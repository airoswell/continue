{% load filters %}
<div ng-cloak class='sidebar' hide-sm hide-md show-gt-md>
  <div class="sidebar-title text-large" 
      style='background:#eee;padding:5px 10px;'>
    <i class='fa fa-list'></i>&nbsp;Navigation
  </div>
  <div class='sidebar-body' style=''>
    <div ng-click="display_tab('feeds')">
      <div class='text-default sidebar-item'>
        <i class="fa fa-rss"></i>&nbsp;Feeds
      </div>
    </div>
    <div ng-click="display_tab('timeline')">
      <div class='text-default sidebar-item'>
        <i class="fa fa-rss"></i>&nbsp;Timeline
      </div>
    </div>
    <div ng-click="display_tab('posts')" click-to-show>
      <div click-to-show-trigger class="text-default sidebar-item">
        <i class="fa fa-newspaper-o"></i>&nbsp;Posts&nbsp;<i class="fa fa-caret-down"></i>
      </div>
      <div style='max-height:400px;overflow:scroll' click-to-show-target>
        {% for post in posts %}
        <div class='text-small sidebar-item'
            ng-click="scroll_to_post({{post.id}})">
          {{ post.title|truncate:38 }}
        </div>
        {% endfor %}
        <div ng-repeat="post in posts">
          <div class="text-small sidebar-item"
              ng-click="scroll_to_post(post.id)"
              ng-bind="::post.title">
          </div>
        </div>
      </div>
    </div>
    <div ng-click='display_tab("items")'>
      <div class="text-default sidebar-item">
        Items
      </div>
    </div>
  </div>
</div>


<!-- The nav bar at the top when on small window -->
<div hide-gt-md flex>
  <div layout='row' flex>
    <div flex class="button button-small button-gray" ng-click='display_tab("feeds")'>Feeds</div>
    <div flex class="button button-small button-gray" ng-click='display_tab("timeline")'>Timeline</div>
    <div flex class="button button-small button-gray" ng-click='display_tab("posts")'>Posts</div>
    <div flex class="button button-small button-gray" ng-click='display_tab("items")'>Items</div>
  </div>
</div>